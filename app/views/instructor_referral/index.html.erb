<div>
  <%= render 'main/navbar' %>
  <div class="container d-flex justify-content-center align-items-center vh-100 vw-100" style="margin-top:10vh">
    <h3>Please enter valid email to refer an instructor.</h3>
    <%= form_with url: instructor_referral_path do |form| %>
      <%= form.label :email %>
      <%= form.email_field :email, autofocus: true %>
      <%= form.submit "Refer", id:"refer-button" %>
    <% end %>
      
    <br>
    <% if flash[:notice] %>
      <%= content_tag :p, flash[:notice], id: 'flash-notice' %>
      <button class="btn btn-primary" id="copy-button" data-clipboard-target="#flash-notice">Copy to Clipboard</button>
    <% end %>
    <% if flash[:error] %>
      <%= content_tag :p, flash[:error] %>
    <% end %>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.8/clipboard.min.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    var clipboard = new ClipboardJS('#copy-button');

    clipboard.on('success', function(e) {
      console.info('Text:', e.text);
      e.clearSelection();
    });

    clipboard.on('error', function(e) {
      console.error('Action:', e.action);
      console.error('Trigger:', e.trigger);
    });
  });
</script>